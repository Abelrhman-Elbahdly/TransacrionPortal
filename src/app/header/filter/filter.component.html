<section class="filter-container">
  <button (click)="toggleForm()" *ngIf="!showForm">
    <i id="filter-icon"
      ><svg
        xmlns="http://www.w3.org/2000/svg"
        width="12"
        height="13"
        viewBox="0 0 12 13"
        fill="none"
      >
        <path
          d="M4.2002 8.89746C4.96349 8.89754 5.64434 9.37906 5.89844 10.0986H11.625C11.8319 10.0986 11.9997 10.2667 12 10.4736V10.9238C12 11.1309 11.8321 11.2988 11.625 11.2988H5.89844C5.64442 12.0186 4.9636 12.4999 4.2002 12.5C3.43672 12.5 2.75599 12.0186 2.50195 11.2988H0.375C0.167895 11.2988 2.30635e-06 11.1309 0 10.9238V10.4736C0.000261877 10.2667 0.168055 10.0986 0.375 10.0986H2.50195C2.75611 9.37906 3.43686 8.89746 4.2002 8.89746ZM4.2002 10.0986C3.86882 10.0986 3.59961 10.3679 3.59961 10.6992C3.59974 11.0304 3.86891 11.2988 4.2002 11.2988C4.53139 11.2987 4.79967 11.0303 4.7998 10.6992C4.7998 10.368 4.53148 10.0987 4.2002 10.0986ZM7.7998 4.69922C8.56328 4.69922 9.24401 5.18059 9.49805 5.90039H11.625C11.8321 5.90039 12 6.06828 12 6.27539V6.72461C12 6.93172 11.8321 7.09961 11.625 7.09961H9.49805C9.24401 7.81941 8.56328 8.30078 7.7998 8.30078C7.0364 8.3007 6.35558 7.81935 6.10156 7.09961H0.375C0.167893 7.09961 0 6.93172 0 6.72461V6.27539C0 6.06828 0.167893 5.90039 0.375 5.90039H6.10156C6.35558 5.18065 7.0364 4.6993 7.7998 4.69922ZM7.7998 5.90039C7.46852 5.9005 7.2002 6.16878 7.2002 6.5C7.2002 6.83122 7.46852 7.0995 7.7998 7.09961C8.13118 7.09961 8.40039 6.83129 8.40039 6.5C8.40039 6.16871 8.13118 5.90039 7.7998 5.90039ZM4.2002 0.5C4.9636 0.500082 5.64442 0.981433 5.89844 1.70117H11.625C11.8321 1.70117 12 1.86907 12 2.07617V2.52637C11.9997 2.73325 11.8319 2.90137 11.625 2.90137H5.89844C5.64434 3.62094 4.96349 4.10246 4.2002 4.10254C3.43686 4.10254 2.75611 3.62094 2.50195 2.90137H0.375C0.168055 2.90137 0.000261999 2.73325 0 2.52637V2.07617C2.22266e-06 1.86907 0.167895 1.70117 0.375 1.70117H2.50195C2.75599 0.981372 3.43672 0.5 4.2002 0.5ZM4.2002 1.70117C3.86891 1.70117 3.59974 1.96961 3.59961 2.30078C3.59961 2.63207 3.86882 2.90137 4.2002 2.90137C4.53148 2.90126 4.7998 2.63201 4.7998 2.30078C4.79967 1.96967 4.53139 1.70128 4.2002 1.70117Z"
          fill="#0045AD"
        /></svg></i
    >فرز<i id="arrow-down">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="8"
        height="9"
        viewBox="0 0 8 9"
        fill="none"
      >
        <path
          d="M0.802281 2.125H7.19772C7.64081 2.125 8 2.48028 8 2.91855C8 3.12901 7.91547 3.33085 7.76502 3.47967L4.5673 6.64258C4.25399 6.95248 3.74601 6.95248 3.4327 6.64258L0.234983 3.47967C-0.0783275 3.16977 -0.0783275 2.66732 0.234983 2.35742C0.385439 2.20861 0.589503 2.125 0.802281 2.125Z"
          fill="#9CA0B0"
        />
      </svg>
    </i>
  </button>

  <div [class.hidden]="!showForm" class="filter-form">
    <form [formGroup]="filterForm" (ngSubmit)="applyFilters()">
      <div class="filter-form-item">
        <label>التاجر:</label>
        <select formControlName="merchant">
          <option value="">الكل</option>
          <option *ngFor="let merchant of merchants" [value]="merchant">
            {{ merchant }}
          </option>
        </select>
      </div>
      <div class="filter-form-item">
        <label>الحالة:</label>
        <select formControlName="condition">
          <option value="">الكل</option>
          <option *ngFor="let condition of conditions" [value]="condition">
            {{ condition }}
          </option>
        </select>
      </div>
      <div class="filter-form-item">
        <label>التاريخ:</label>
        <select formControlName="date">
          <option value="">الكل</option>
          <option *ngFor="let date of dates" [value]="date">
            {{ date | date : "dd-MM-yyyy HH:mm:ss" }}
          </option>
        </select>
      </div>
      <div class="filter-form-buttons">
        <button type="submit">تطبيق</button>
        <button type="button" (click)="clearFilters()">مسح</button>
        <button type="button" (click)="toggleForm()">إغلاق</button>
      </div>
    </form>
  </div>
</section>
